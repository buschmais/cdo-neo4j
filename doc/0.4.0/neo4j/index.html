<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" content="Asciidoctor 0.1.4">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>eXtended Objects - Neo4j Datastore</title>
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
article, aside, details, figcaption, figure, footer, header, hgroup, main, nav, section, summary { display: block; }
audio, canvas, video { display: inline-block; }
audio:not([controls]) { display: none; height: 0; }
[hidden] { display: none; }
html { background: #fff; color: #000; font-family: sans-serif; -ms-text-size-adjust: 100%; -webkit-text-size-adjust: 100%; }
body { margin: 0; }
a:focus { outline: thin dotted; }
a:active, a:hover { outline: 0; }
h1 { font-size: 2em; margin: 0.67em 0; }
abbr[title] { border-bottom: 1px dotted; }
b, strong { font-weight: bold; }
dfn { font-style: italic; }
hr { -moz-box-sizing: content-box; box-sizing: content-box; height: 0; }
mark { background: #ff0; color: #000; }
code, kbd, pre, samp { font-family: monospace, serif; font-size: 1em; }
pre { white-space: pre-wrap; }
q { quotes: "\201C" "\201D" "\2018" "\2019"; }
small { font-size: 80%; }
sub, sup { font-size: 75%; line-height: 0; position: relative; vertical-align: baseline; }
sup { top: -0.5em; }
sub { bottom: -0.25em; }
img { border: 0; }
svg:not(:root) { overflow: hidden; }
figure { margin: 0; }
fieldset { border: 1px solid #c0c0c0; margin: 0 2px; padding: 0.35em 0.625em 0.75em; }
legend { border: 0; padding: 0; }
button, input, select, textarea { font-family: inherit; font-size: 100%; margin: 0; }
button, input { line-height: normal; }
button, select { text-transform: none; }
button, html input[type="button"], input[type="reset"], input[type="submit"] { -webkit-appearance: button; cursor: pointer; }
button[disabled], html input[disabled] { cursor: default; }
input[type="checkbox"], input[type="radio"] { box-sizing: border-box; padding: 0; }
input[type="search"] { -webkit-appearance: textfield; -moz-box-sizing: content-box; -webkit-box-sizing: content-box; box-sizing: content-box; }
input[type="search"]::-webkit-search-cancel-button, input[type="search"]::-webkit-search-decoration { -webkit-appearance: none; }
button::-moz-focus-inner, input::-moz-focus-inner { border: 0; padding: 0; }
textarea { overflow: auto; vertical-align: top; }
table { border-collapse: collapse; border-spacing: 0; }
*, *:before, *:after { -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; }
html, body { font-size: 100%; }
body { background: white; color: #222222; padding: 0; margin: 0; font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; font-weight: normal; font-style: normal; line-height: 1; position: relative; cursor: auto; }
a:hover { cursor: pointer; }
a:focus { outline: none; }
img, object, embed { max-width: 100%; height: auto; }
object, embed { height: 100%; }
img { -ms-interpolation-mode: bicubic; }
#map_canvas img, #map_canvas embed, #map_canvas object, .map_canvas img, .map_canvas embed, .map_canvas object { max-width: none !important; }
.left { float: left !important; }
.right { float: right !important; }
.text-left { text-align: left !important; }
.text-right { text-align: right !important; }
.text-center { text-align: center !important; }
.text-justify { text-align: justify !important; }
.hide { display: none; }
.antialiased, body { -webkit-font-smoothing: antialiased; }
img { display: inline-block; vertical-align: middle; }
textarea { height: auto; min-height: 50px; }
select { width: 100%; }
p.lead, .paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { font-size: 1.21875em; line-height: 1.6; }
.subheader, #content #toctitle, .admonitionblock td.content > .title, .exampleblock > .title, .imageblock > .title, .videoblock > .title, .listingblock > .title, .literalblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, .sidebarblock > .title, .tableblock > .title, .verseblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title, .tableblock > caption { line-height: 1.4; color: #7a2518; font-weight: 300; margin-top: 0.2em; margin-bottom: 0.5em; }
div, dl, dt, dd, ul, ol, li, h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6, pre, form, p, blockquote, th, td { margin: 0; padding: 0; direction: ltr; }
a { color: #005498; text-decoration: underline; line-height: inherit; }
a:hover, a:focus { color: #00467f; }
a img { border: none; }
p { font-family: inherit; font-weight: normal; font-size: 1em; line-height: 1.6; margin-bottom: 1.25em; text-rendering: optimizeLegibility; }
p aside { font-size: 0.875em; line-height: 1.35; font-style: italic; }
h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { font-family: Georgia, "URW Bookman L", Helvetica, Arial, sans-serif; font-weight: normal; font-style: normal; color: #ba3925; text-rendering: optimizeLegibility; margin-top: 1em; margin-bottom: 0.5em; line-height: 1.2125em; }
h1 small, h2 small, h3 small, #toctitle small, .sidebarblock > .content > .title small, h4 small, h5 small, h6 small { font-size: 60%; color: #e99b8f; line-height: 0; }
h1 { font-size: 2.125em; }
h2 { font-size: 1.6875em; }
h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.375em; }
h4 { font-size: 1.125em; }
h5 { font-size: 1.125em; }
h6 { font-size: 1em; }
hr { border: solid #dddddd; border-width: 1px 0 0; clear: both; margin: 1.25em 0 1.1875em; height: 0; }
em, i { font-style: italic; line-height: inherit; }
strong, b { font-weight: bold; line-height: inherit; }
small { font-size: 60%; line-height: inherit; }
code { font-family: Consolas, "Liberation Mono", Courier, monospace; font-weight: normal; color: #6d180b; }
ul, ol, dl { font-size: 1em; line-height: 1.6; margin-bottom: 1.25em; list-style-position: outside; font-family: inherit; }
ul, ol { margin-left: 1.5em; }
ul li ul, ul li ol { margin-left: 1.25em; margin-bottom: 0; font-size: 1em; }
ul.square li ul, ul.circle li ul, ul.disc li ul { list-style: inherit; }
ul.square { list-style-type: square; }
ul.circle { list-style-type: circle; }
ul.disc { list-style-type: disc; }
ul.no-bullet { list-style: none; }
ol li ul, ol li ol { margin-left: 1.25em; margin-bottom: 0; }
dl dt { margin-bottom: 0.3125em; font-weight: bold; }
dl dd { margin-bottom: 1.25em; }
abbr, acronym { text-transform: uppercase; font-size: 90%; color: #222222; border-bottom: 1px dotted #dddddd; cursor: help; }
abbr { text-transform: none; }
blockquote { margin: 0 0 1.25em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #dddddd; }
blockquote cite { display: block; font-size: inherit; color: #555555; }
blockquote cite:before { content: "\2014 \0020"; }
blockquote cite a, blockquote cite a:visited { color: #555555; }
blockquote, blockquote p { line-height: 1.6; color: #6f6f6f; }
.vcard { display: inline-block; margin: 0 0 1.25em 0; border: 1px solid #dddddd; padding: 0.625em 0.75em; }
.vcard li { margin: 0; display: block; }
.vcard .fn { font-weight: bold; font-size: 0.9375em; }
.vevent .summary { font-weight: bold; }
.vevent abbr { cursor: auto; text-decoration: none; font-weight: bold; border: none; padding: 0 0.0625em; }
@media only screen and (min-width: 768px) { h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.4; }
  h1 { font-size: 2.75em; }
  h2 { font-size: 2.3125em; }
  h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.6875em; }
  h4 { font-size: 1.4375em; } }
.print-only { display: none !important; }
@media print { * { background: transparent !important; color: #000 !important; box-shadow: none !important; text-shadow: none !important; }
  a, a:visited { text-decoration: underline; }
  a[href]:after { content: " (" attr(href) ")"; }
  abbr[title]:after { content: " (" attr(title) ")"; }
  .ir a:after, a[href^="javascript:"]:after, a[href^="#"]:after { content: ""; }
  pre, blockquote { border: 1px solid #999; page-break-inside: avoid; }
  thead { display: table-header-group; }
  tr, img { page-break-inside: avoid; }
  img { max-width: 100% !important; }
  @page { margin: 0.5cm; }
  p, h2, h3, #toctitle, .sidebarblock > .content > .title { orphans: 3; widows: 3; }
  h2, h3, #toctitle, .sidebarblock > .content > .title { page-break-after: avoid; }
  .hide-on-print { display: none !important; }
  .print-only { display: block !important; }
  .hide-for-print { display: none !important; }
  .show-for-print { display: inherit !important; } }
table { background: white; margin-bottom: 1.25em; border: solid 1px #dddddd; }
table thead, table tfoot { background: whitesmoke; font-weight: bold; }
table thead tr th, table thead tr td, table tfoot tr th, table tfoot tr td { padding: 0.5em 0.625em 0.625em; font-size: inherit; color: #222222; text-align: left; }
table tr th, table tr td { padding: 0.5625em 0.625em; font-size: inherit; color: #222222; }
table tr.even, table tr.alt, table tr:nth-of-type(even) { background: #f9f9f9; }
table thead tr th, table tfoot tr th, table tbody tr td, table tr td, table tfoot tr td { display: table-cell; line-height: 1.6; }
.clearfix:before, .clearfix:after, .float-group:before, .float-group:after { content: " "; display: table; }
.clearfix:after, .float-group:after { clear: both; }
*:not(pre) > code { font-size: 0.9375em; padding: 1px 3px 0; white-space: nowrap; background-color: #f2f2f2; border: 1px solid #cccccc; -webkit-border-radius: 4px; border-radius: 4px; text-shadow: none; }
pre, pre > code { line-height: 1.4; color: inherit; font-family: Consolas, "Liberation Mono", Courier, monospace; font-weight: normal; }
kbd.keyseq { color: #555555; }
kbd:not(.keyseq) { display: inline-block; color: #222222; font-size: 0.75em; line-height: 1.4; background-color: #F7F7F7; border: 1px solid #ccc; -webkit-border-radius: 3px; border-radius: 3px; -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 2px white inset; box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 2px white inset; margin: -0.15em 0.15em 0 0.15em; padding: 0.2em 0.6em 0.2em 0.5em; vertical-align: middle; white-space: nowrap; }
kbd kbd:first-child { margin-left: 0; }
kbd kbd:last-child { margin-right: 0; }
.menuseq, .menu { color: #090909; }
p a > code:hover { color: #561309; }
#header, #content, #footnotes, #footer { width: 100%; margin-left: auto; margin-right: auto; margin-top: 0; margin-bottom: 0; max-width: 62.5em; *zoom: 1; position: relative; padding-left: 0.9375em; padding-right: 0.9375em; }
#header:before, #header:after, #content:before, #content:after, #footnotes:before, #footnotes:after, #footer:before, #footer:after { content: " "; display: table; }
#header:after, #content:after, #footnotes:after, #footer:after { clear: both; }
#header { margin-bottom: 2.5em; }
#header > h1 { color: black; font-weight: normal; border-bottom: 1px solid #dddddd; margin-bottom: -28px; padding-bottom: 32px; }
#header span { color: #6f6f6f; }
#header #revnumber { text-transform: capitalize; }
#header br { display: none; }
#header br + span { padding-left: 3px; }
#header br + span:before { content: "\2013 \0020"; }
#header br + span.author { padding-left: 0; }
#header br + span.author:before { content: ", "; }
#toc { border-bottom: 3px double #ebebeb; padding-bottom: 1.25em; }
#toc > ul { margin-left: 0.25em; }
#toc ul.sectlevel0 > li > a { font-style: italic; }
#toc ul.sectlevel0 ul.sectlevel1 { margin-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
#toc ul { list-style-type: none; }
#toctitle { color: #7a2518; }
@media only screen and (min-width: 1280px) { body.toc2 { padding-left: 20em; }
  #toc.toc2 { position: fixed; width: 20em; left: 0; top: 0; border-right: 1px solid #ebebeb; border-bottom: 0; z-index: 1000; padding: 1em; height: 100%; overflow: auto; }
  #toc.toc2 #toctitle { margin-top: 0; }
  #toc.toc2 > ul { font-size: .95em; }
  #toc.toc2 ul ul { margin-left: 0; padding-left: 1.25em; }
  #toc.toc2 ul.sectlevel0 ul.sectlevel1 { padding-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 20em; }
  body.toc2.toc-right #toc.toc2 { border-right: 0; border-left: 1px solid #ebebeb; left: auto; right: 0; } }
#content #toc { border-style: solid; border-width: 1px; border-color: #d9d9d9; margin-bottom: 1.25em; padding: 1.25em; background: #f2f2f2; border-width: 0; -webkit-border-radius: 4px; border-radius: 4px; }
#content #toc > :first-child { margin-top: 0; }
#content #toc > :last-child { margin-bottom: 0; }
#content #toc a { text-decoration: none; }
#content #toctitle { font-weight: bold; font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; font-size: 1em; padding-left: 0.125em; }
#footer { max-width: 100%; background-color: #222222; padding: 1.25em; }
#footer-text { color: #dddddd; line-height: 1.44; }
.sect1 { padding-bottom: 1.25em; }
.sect1 + .sect1 { border-top: 3px double #ebebeb; }
#content h1 > a.anchor, h2 > a.anchor, h3 > a.anchor, #toctitle > a.anchor, .sidebarblock > .content > .title > a.anchor, h4 > a.anchor, h5 > a.anchor, h6 > a.anchor { position: absolute; width: 1em; margin-left: -1em; display: block; text-decoration: none; visibility: hidden; text-align: center; font-weight: normal; }
#content h1 > a.anchor:before, h2 > a.anchor:before, h3 > a.anchor:before, #toctitle > a.anchor:before, .sidebarblock > .content > .title > a.anchor:before, h4 > a.anchor:before, h5 > a.anchor:before, h6 > a.anchor:before { content: '\00A7'; font-size: .85em; vertical-align: text-top; display: block; margin-top: 0.05em; }
#content h1:hover > a.anchor, #content h1 > a.anchor:hover, h2:hover > a.anchor, h2 > a.anchor:hover, h3:hover > a.anchor, #toctitle:hover > a.anchor, .sidebarblock > .content > .title:hover > a.anchor, h3 > a.anchor:hover, #toctitle > a.anchor:hover, .sidebarblock > .content > .title > a.anchor:hover, h4:hover > a.anchor, h4 > a.anchor:hover, h5:hover > a.anchor, h5 > a.anchor:hover, h6:hover > a.anchor, h6 > a.anchor:hover { visibility: visible; }
#content h1 > a.link, h2 > a.link, h3 > a.link, #toctitle > a.link, .sidebarblock > .content > .title > a.link, h4 > a.link, h5 > a.link, h6 > a.link { color: #ba3925; text-decoration: none; }
#content h1 > a.link:hover, h2 > a.link:hover, h3 > a.link:hover, #toctitle > a.link:hover, .sidebarblock > .content > .title > a.link:hover, h4 > a.link:hover, h5 > a.link:hover, h6 > a.link:hover { color: #a53221; }
.imageblock, .literalblock, .listingblock, .verseblock, .videoblock { margin-bottom: 1.25em; }
.admonitionblock td.content > .title, .exampleblock > .title, .imageblock > .title, .videoblock > .title, .listingblock > .title, .literalblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, .sidebarblock > .title, .tableblock > .title, .verseblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { text-align: left; font-weight: bold; }
.tableblock > caption { text-align: left; font-weight: bold; white-space: nowrap; overflow: visible; max-width: 0; }
table.tableblock #preamble > .sectionbody > .paragraph:first-of-type p { font-size: inherit; }
.admonitionblock > table { border: 0; background: none; width: 100%; }
.admonitionblock > table td.icon { text-align: center; width: 80px; }
.admonitionblock > table td.icon img { max-width: none; }
.admonitionblock > table td.icon .title { font-weight: bold; text-transform: uppercase; }
.admonitionblock > table td.content { padding-left: 1.125em; padding-right: 1.25em; border-left: 1px solid #dddddd; color: #6f6f6f; }
.admonitionblock > table td.content > :last-child > :last-child { margin-bottom: 0; }
.exampleblock > .content { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: white; -webkit-border-radius: 4px; border-radius: 4px; }
.exampleblock > .content > :first-child { margin-top: 0; }
.exampleblock > .content > :last-child { margin-bottom: 0; }
.exampleblock > .content h1, .exampleblock > .content h2, .exampleblock > .content h3, .exampleblock > .content #toctitle, .sidebarblock.exampleblock > .content > .title, .exampleblock > .content h4, .exampleblock > .content h5, .exampleblock > .content h6, .exampleblock > .content p { color: #333333; }
.exampleblock > .content h1, .exampleblock > .content h2, .exampleblock > .content h3, .exampleblock > .content #toctitle, .sidebarblock.exampleblock > .content > .title, .exampleblock > .content h4, .exampleblock > .content h5, .exampleblock > .content h6 { line-height: 1; margin-bottom: 0.625em; }
.exampleblock > .content h1.subheader, .exampleblock > .content h2.subheader, .exampleblock > .content h3.subheader, .exampleblock > .content .subheader#toctitle, .sidebarblock.exampleblock > .content > .subheader.title, .exampleblock > .content h4.subheader, .exampleblock > .content h5.subheader, .exampleblock > .content h6.subheader { line-height: 1.4; }
.exampleblock.result > .content { -webkit-box-shadow: 0 1px 8px #d9d9d9; box-shadow: 0 1px 8px #d9d9d9; }
.sidebarblock { border-style: solid; border-width: 1px; border-color: #d9d9d9; margin-bottom: 1.25em; padding: 1.25em; background: #f2f2f2; -webkit-border-radius: 4px; border-radius: 4px; }
.sidebarblock > :first-child { margin-top: 0; }
.sidebarblock > :last-child { margin-bottom: 0; }
.sidebarblock h1, .sidebarblock h2, .sidebarblock h3, .sidebarblock #toctitle, .sidebarblock > .content > .title, .sidebarblock h4, .sidebarblock h5, .sidebarblock h6, .sidebarblock p { color: #333333; }
.sidebarblock h1, .sidebarblock h2, .sidebarblock h3, .sidebarblock #toctitle, .sidebarblock > .content > .title, .sidebarblock h4, .sidebarblock h5, .sidebarblock h6 { line-height: 1; margin-bottom: 0.625em; }
.sidebarblock h1.subheader, .sidebarblock h2.subheader, .sidebarblock h3.subheader, .sidebarblock .subheader#toctitle, .sidebarblock > .content > .subheader.title, .sidebarblock h4.subheader, .sidebarblock h5.subheader, .sidebarblock h6.subheader { line-height: 1.4; }
.sidebarblock > .content > .title { color: #7a2518; margin-top: 0; line-height: 1.6; }
.exampleblock > .content > :last-child > :last-child, .exampleblock > .content .olist > ol > li:last-child > :last-child, .exampleblock > .content .ulist > ul > li:last-child > :last-child, .exampleblock > .content .qlist > ol > li:last-child > :last-child, .sidebarblock > .content > :last-child > :last-child, .sidebarblock > .content .olist > ol > li:last-child > :last-child, .sidebarblock > .content .ulist > ul > li:last-child > :last-child, .sidebarblock > .content .qlist > ol > li:last-child > :last-child { margin-bottom: 0; }
.literalblock > .content pre, .listingblock > .content pre { background: none; border-width: 1px 0; border-style: dotted; border-color: #bfbfbf; -webkit-border-radius: 4px; border-radius: 4px; padding: 0.75em 0.75em 0.5em 0.75em; word-wrap: break-word; }
.literalblock > .content pre.nowrap, .listingblock > .content pre.nowrap { overflow-x: auto; white-space: pre; word-wrap: normal; }
.literalblock > .content pre > code, .listingblock > .content pre > code { display: block; }
@media only screen { .literalblock > .content pre, .listingblock > .content pre { font-size: 0.8em; } }
@media only screen and (min-width: 768px) { .literalblock > .content pre, .listingblock > .content pre { font-size: 0.9em; } }
@media only screen and (min-width: 1280px) { .literalblock > .content pre, .listingblock > .content pre { font-size: 1em; } }
.listingblock > .content { position: relative; }
.listingblock:hover code[class*=" language-"]:before { text-transform: uppercase; font-size: 0.9em; color: #999; position: absolute; top: 0.375em; right: 0.375em; }
.listingblock:hover code.asciidoc:before { content: "asciidoc"; }
.listingblock:hover code.clojure:before { content: "clojure"; }
.listingblock:hover code.css:before { content: "css"; }
.listingblock:hover code.groovy:before { content: "groovy"; }
.listingblock:hover code.html:before { content: "html"; }
.listingblock:hover code.java:before { content: "java"; }
.listingblock:hover code.javascript:before { content: "javascript"; }
.listingblock:hover code.python:before { content: "python"; }
.listingblock:hover code.ruby:before { content: "ruby"; }
.listingblock:hover code.scss:before { content: "scss"; }
.listingblock:hover code.xml:before { content: "xml"; }
.listingblock:hover code.yaml:before { content: "yaml"; }
.listingblock.terminal pre .command:before { content: attr(data-prompt); padding-right: 0.5em; color: #999; }
.listingblock.terminal pre .command:not([data-prompt]):before { content: '$'; }
table.pyhltable { border: 0; margin-bottom: 0; }
table.pyhltable td { vertical-align: top; padding-top: 0; padding-bottom: 0; }
table.pyhltable td.code { padding-left: .75em; padding-right: 0; }
.highlight.pygments .lineno, table.pyhltable td:not(.code) { color: #999; padding-left: 0; padding-right: .5em; border-right: 1px solid #dddddd; }
.highlight.pygments .lineno { display: inline-block; margin-right: .25em; }
table.pyhltable .linenodiv { background-color: transparent !important; padding-right: 0 !important; }
.quoteblock { margin: 0 0 1.25em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #dddddd; }
.quoteblock blockquote { margin: 0 0 1.25em 0; padding: 0 0 0.5625em 0; border: 0; }
.quoteblock blockquote > .paragraph:last-child p { margin-bottom: 0; }
.quoteblock .attribution { margin-top: -.25em; padding-bottom: 0.5625em; font-size: inherit; color: #555555; }
.quoteblock .attribution br { display: none; }
.quoteblock .attribution cite { display: block; margin-bottom: 0.625em; }
table thead th, table tfoot th { font-weight: bold; }
table.tableblock.grid-all { border-collapse: separate; border-spacing: 1px; -webkit-border-radius: 4px; border-radius: 4px; border-top: 1px solid #dddddd; border-bottom: 1px solid #dddddd; }
table.tableblock.frame-topbot, table.tableblock.frame-none { border-left: 0; border-right: 0; }
table.tableblock.frame-sides, table.tableblock.frame-none { border-top: 0; border-bottom: 0; }
table.tableblock td .paragraph:last-child p, table.tableblock td > p:last-child { margin-bottom: 0; }
th.tableblock.halign-left, td.tableblock.halign-left { text-align: left; }
th.tableblock.halign-right, td.tableblock.halign-right { text-align: right; }
th.tableblock.halign-center, td.tableblock.halign-center { text-align: center; }
th.tableblock.valign-top, td.tableblock.valign-top { vertical-align: top; }
th.tableblock.valign-bottom, td.tableblock.valign-bottom { vertical-align: bottom; }
th.tableblock.valign-middle, td.tableblock.valign-middle { vertical-align: middle; }
p.tableblock.header { color: #222222; font-weight: bold; }
td > div.verse { white-space: pre; }
ol { margin-left: 1.75em; }
ul li ol { margin-left: 1.5em; }
dl dd { margin-left: 1.125em; }
dl dd:last-child, dl dd:last-child > :last-child { margin-bottom: 0; }
ol > li p, ul > li p, ul dd, ol dd, .olist .olist, .ulist .ulist, .ulist .olist, .olist .ulist { margin-bottom: 0.625em; }
ul.unstyled, ol.unnumbered, ul.checklist, ul.none { list-style-type: none; }
ul.unstyled, ol.unnumbered, ul.checklist { margin-left: 0.625em; }
ul.checklist li > p:first-child > i[class^="icon-check"]:first-child, ul.checklist li > p:first-child > input[type="checkbox"]:first-child { margin-right: 0.25em; }
ul.checklist li > p:first-child > input[type="checkbox"]:first-child { position: relative; top: 1px; }
ul.inline { margin: 0 auto 0.625em auto; margin-left: -1.375em; margin-right: 0; padding: 0; list-style: none; overflow: hidden; }
ul.inline > li { list-style: none; float: left; margin-left: 1.375em; display: block; }
ul.inline > li > * { display: block; }
.unstyled dl dt { font-weight: normal; font-style: normal; }
ol.arabic { list-style-type: decimal; }
ol.decimal { list-style-type: decimal-leading-zero; }
ol.loweralpha { list-style-type: lower-alpha; }
ol.upperalpha { list-style-type: upper-alpha; }
ol.lowerroman { list-style-type: lower-roman; }
ol.upperroman { list-style-type: upper-roman; }
ol.lowergreek { list-style-type: lower-greek; }
.hdlist > table, .colist > table { border: 0; background: none; }
.hdlist > table > tbody > tr, .colist > table > tbody > tr { background: none; }
td.hdlist1 { padding-right: .8em; font-weight: bold; }
td.hdlist1, td.hdlist2 { vertical-align: top; }
.literalblock + .colist, .listingblock + .colist { margin-top: -0.5em; }
.colist > table tr > td:first-of-type { padding: 0 .8em; line-height: 1; }
.colist > table tr > td:last-of-type { padding: 0.25em 0; }
.qanda > ol > li > p > em:only-child { color: #00467f; }
.thumb, .th { line-height: 0; display: inline-block; border: solid 4px white; -webkit-box-shadow: 0 0 0 1px #dddddd; box-shadow: 0 0 0 1px #dddddd; }
.imageblock.left, .imageblock[style*="float: left"] { margin: 0.25em 0.625em 1.25em 0; }
.imageblock.right, .imageblock[style*="float: right"] { margin: 0.25em 0 1.25em 0.625em; }
.imageblock > .title { margin-bottom: 0; }
.imageblock.thumb, .imageblock.th { border-width: 6px; }
.imageblock.thumb > .title, .imageblock.th > .title { padding: 0 0.125em; }
.image.left, .image.right { margin-top: 0.25em; margin-bottom: 0.25em; display: inline-block; line-height: 0; }
.image.left { margin-right: 0.625em; }
.image.right { margin-left: 0.625em; }
a.image { text-decoration: none; }
span.footnote, span.footnoteref { vertical-align: super; font-size: 0.875em; }
span.footnote a, span.footnoteref a { text-decoration: none; }
#footnotes { padding-top: 0.75em; padding-bottom: 0.75em; margin-bottom: 0.625em; }
#footnotes hr { width: 20%; min-width: 6.25em; margin: -.25em 0 .75em 0; border-width: 1px 0 0 0; }
#footnotes .footnote { padding: 0 0.375em; line-height: 1.3; font-size: 0.875em; margin-left: 1.2em; text-indent: -1.2em; margin-bottom: .2em; }
#footnotes .footnote a:first-of-type { font-weight: bold; text-decoration: none; }
#footnotes .footnote:last-of-type { margin-bottom: 0; }
#content #footnotes { margin-top: -0.625em; margin-bottom: 0; padding: 0.75em 0; }
.gist .file-data > table { border: none; background: #fff; width: 100%; margin-bottom: 0; }
.gist .file-data > table td.line-data { width: 99%; }
div.unbreakable { page-break-inside: avoid; }
.big { font-size: larger; }
.small { font-size: smaller; }
.underline { text-decoration: underline; }
.overline { text-decoration: overline; }
.line-through { text-decoration: line-through; }
.aqua { color: #00bfbf; }
.aqua-background { background-color: #00fafa; }
.black { color: black; }
.black-background { background-color: black; }
.blue { color: #0000bf; }
.blue-background { background-color: #0000fa; }
.fuchsia { color: #bf00bf; }
.fuchsia-background { background-color: #fa00fa; }
.gray { color: #606060; }
.gray-background { background-color: #7d7d7d; }
.green { color: #006000; }
.green-background { background-color: #007d00; }
.lime { color: #00bf00; }
.lime-background { background-color: #00fa00; }
.maroon { color: #600000; }
.maroon-background { background-color: #7d0000; }
.navy { color: #000060; }
.navy-background { background-color: #00007d; }
.olive { color: #606000; }
.olive-background { background-color: #7d7d00; }
.purple { color: #600060; }
.purple-background { background-color: #7d007d; }
.red { color: #bf0000; }
.red-background { background-color: #fa0000; }
.silver { color: #909090; }
.silver-background { background-color: #bcbcbc; }
.teal { color: #006060; }
.teal-background { background-color: #007d7d; }
.white { color: #bfbfbf; }
.white-background { background-color: #fafafa; }
.yellow { color: #bfbf00; }
.yellow-background { background-color: #fafa00; }
span.icon > [class^="icon-"], span.icon > [class*=" icon-"] { cursor: default; }
.admonitionblock td.icon [class^="icon-"]:before { font-size: 2.5em; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5); cursor: default; }
.admonitionblock td.icon .icon-note:before { content: "\f05a"; color: #005498; color: #003f72; }
.admonitionblock td.icon .icon-tip:before { content: "\f0eb"; text-shadow: 1px 1px 2px rgba(155, 155, 0, 0.8); color: #111; }
.admonitionblock td.icon .icon-warning:before { content: "\f071"; color: #bf6900; }
.admonitionblock td.icon .icon-caution:before { content: "\f06d"; color: #bf3400; }
.admonitionblock td.icon .icon-important:before { content: "\f06a"; color: #bf0000; }
.conum { display: inline-block; color: white !important; background-color: #222222; -webkit-border-radius: 100px; border-radius: 100px; text-align: center; width: 20px; height: 20px; font-size: 12px; font-weight: bold; line-height: 20px; font-family: Arial, sans-serif; font-style: normal; position: relative; top: -2px; letter-spacing: -1px; }
.conum * { color: white !important; }
.conum + b { display: none; }
.conum:after { content: attr(data-value); }
.conum:not([data-value]):empty { display: none; }
.literalblock > .content > pre, .listingblock > .content > pre { -webkit-border-radius: 0; border-radius: 0; }

</style>
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>eXtended Objects - Neo4j Datastore</h1>
<span id="author" class="author">Dirk Mahler</span><br>
<span id="email" class="email"><a href="mailto:dirk.mahler@buschmais.com">dirk.mahler@buschmais.com</a></span><br>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_introduction">Introduction</a></li>
<li><a href="#_maven_dependencies">Maven Dependencies</a></li>
<li><a href="#_bootstrapping">Bootstrapping</a></li>
<li>
<ul class="sectlevel2">
<li><a href="#_xml_descriptor">XML Descriptor</a></li>
<li><a href="#_xounit_and_xounitbuilder">XOUnit And XOUnitBuilder</a></li>
</ul>
</li>
<li><a href="#_mapping_persistent_types">Mapping Persistent Types</a></li>
<li>
<ul class="sectlevel2">
<li><a href="#_nodes">Nodes</a></li>
<li>
<ul class="sectlevel3">
<li><a href="#_labeled_types">Labeled Types</a></li>
<li><a href="#_inheritance_of_labels">Inheritance Of Labels</a></li>
<li><a href="#TemplateTypes">Template Types</a></li>
</ul>
</li>
<li><a href="#_relations">Relations</a></li>
<li>
<ul class="sectlevel3">
<li><a href="#_unidirectional_relations">Unidirectional Relations</a></li>
<li><a href="#_bidirectional_qualified_relations">Bidirectional Qualified Relations</a></li>
<li><a href="#_typed_relations_with_properties">Typed Relations With Properties</a></li>
<li><a href="#_dynamic_properties">Dynamic Properties</a></li>
<li><a href="#_transient_properties">Transient Properties</a></li>
<li><a href="#_user_defined_methods">User defined methods</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This document describes the Neo4j datastore for <a href="http://github.com/buschmais/extended-objects">eXtended Objects</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_introduction">Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As a graph database Neo4j provides very powerful capabilities to store and query highly interconnected data structures
consisting of nodes and relationships between them. With release 2.0 the concept of labels has been introduced. One or
more labels can be added to a single node:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>create
  (a:Person:Actor)
set
  a.name="Harrison Ford"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Using labels it is possible to write comprehensive queries using Cypher:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>match
  (a:Person)
where
  a.name="Harrison Ford"
return
  a.name;</code></pre>
</div>
</div>
<div class="paragraph">
<p>If a node has a label it can be assumed that it represents some type of data which requires the presence of specific
properties and relationships (e.g. property "name" for persons, "ACTED_IN" relations to movies). This implies that a
Neo4j label can be represented as a Java interface and vice versa.</p>
</div>
<div class="listingblock">
<div class="title">Person.java</div>
<div class="content">
<pre class="highlight"><code class="java language-java">@Label("Person") // The value "Person" can be omitted, in this case the class name is used
public interface Person {
  String getName();
  void setName();
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_maven_dependencies">Maven Dependencies</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Neo4j datastore for eXtended Objects is available from Maven Central and can be specified as dependency in pom.xml files:</p>
</div>
<div class="listingblock">
<div class="title">pom.xml</div>
<div class="content">
<pre class="highlight"><code class="xml language-xml">&lt;project ...&gt;
    ...

    &lt;properties&gt;
        &lt;com.buschmais.xo_version&gt;0.4.0&lt;/com.buschmais.xo_version&gt;
    &lt;/properties&gt;

    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;com.buschmais.xo&lt;/groupId&gt;
            &lt;artifactId&gt;xo.neo4j&lt;/artifactId&gt;
            &lt;version&gt;${com.buschmais.xo_version}&lt;/version&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;

    ...
&lt;/project&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_bootstrapping">Bootstrapping</h2>
<div class="sectionbody">
<div class="paragraph">
<p>For a XOManagerFactory to be constructed a so called XO unit must be defined. There are two ways:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Using a descriptor META-INF/xo.xml</p>
</li>
<li>
<p>By using an instance of the class "com.buschmais.xo.XOUnit"</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_xml_descriptor">XML Descriptor</h3>
<div class="paragraph">
<p>An XO descriptor is a XML file located as classpath resource under "/META-INF/xo.xml" and defines one or more XO units.
Each must be uniquely identified by a name. This is similar to the persistence unit approach defined by the Java Persistence
API (JPA). The following snippet shows a minimum setup:</p>
</div>
<div class="listingblock">
<div class="title">META-INF/xo.xml</div>
<div class="content">
<pre class="highlight"><code class="xml language-xml">&lt;v1:xo version="1.0" xmlns:v1="http://buschmais.com/xo/schema/v1.0"&gt;
    &lt;xo-unit name="movies"&gt;
        &lt;url&gt;file://target/movies&lt;/url&gt;
        &lt;provider&gt;com.buschmais.xo.neo4j.api.Neo4jXOProvider&lt;/provider&gt;
        &lt;types&gt;
            &lt;type&gt;com.buschmais.xo.example.movies.composite.Movie&lt;/type&gt;
            &lt;type&gt;com.buschmais.xo.example.movies.composite.Person&lt;/type&gt;
            &lt;type&gt;com.buschmais.xo.example.movies.composite.Actor&lt;/type&gt;
            &lt;type&gt;com.buschmais.xo.example.movies.composite.Directory&lt;/type&gt;
        &lt;/types&gt;
    &lt;/xo-unit&gt;
&lt;/v1:xo&gt;</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">url</dt>
<dd>
<p>The URL to pass to the Neo4j datastore. The following protocols are currently supported</p>
<div class="ulist">
<ul>
<li>
<p>"file:///C:/neo4j/movies": embedded local database using the specified directory as location for the Neo4j database</p>
</li>
<li>
<p>"http://localhost:7474/db/data": remote database over REST</p>
</li>
<li>
<p>"memory:///": non-persistent in-memory database</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">provider</dt>
<dd>
<p>The class name of the datastore provider, for Neo4j com.buschmais.xo.neo4j.api.Neo4jXOProvider</p>
</dd>
<dt class="hdlist1">types</dt>
<dd>
<p>A list of all persistent interface types representing labels or relations</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>An XOManagerFactory instance can now be obtained as demonstrated in the following snippet:</p>
</div>
<div class="listingblock">
<div class="title">Main.java</div>
<div class="content">
<pre class="highlight"><code class="java language-java">public class Main {

  public static void main(String[] args) {
    XOManagerFactory xmf = XO.createXOManagerFactory("movies");
    ...
    xmf.close();
  }

}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_xounit_and_xounitbuilder">XOUnit And XOUnitBuilder</h3>
<div class="paragraph">
<p>It is also possible to create a XOManagerFactory using an instance of the class <em>com.buschmais.xo.api.XOUnit</em>:</p>
</div>
<div class="listingblock">
<div class="title">Main.java</div>
<div class="content">
<pre class="highlight"><code class="java language-java">public class Main {

  public static void main(String[] args) {
    XOUnit xoUnit = XOUnitBuilder.create(
      "file://target/movies", // datastore url
       Neo4jXOProvider.class, // datastore provider
       Movie.class, Person.class, Actor.class, Directory.class // persistent interface types
    ).create();
    XOManagerFactory xmf = XO.createXOManagerFactory(xoUnit);
    ...
    xmf.close();
  }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note: The class XOUnitBuilder provides a fluent interface for the parameters which may be specified for an XO unit.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_mapping_persistent_types">Mapping Persistent Types</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Neo4j database provides the following native datastore concepts:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Node</dt>
<dd>
<p>An entity, e.g. a Person, Movie, etc. A node might have labels and properties.</p>
</dd>
<dt class="hdlist1">Relationship</dt>
<dd>
<p>A directed relation between two nodes, might have properties. The lifecycle of relation depends on the lifecycle of the
nodes it connects.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The eXtended Objects datastore for Neo4j allows mapping of all these concepts to Java interfaces.</p>
</div>
<div class="sect2">
<h3 id="_nodes">Nodes</h3>
<div class="sect3">
<h4 id="_labeled_types">Labeled Types</h4>
<div class="paragraph">
<p>Neo4j allows adding one or more labels to a node. These labels are used by eXtended Objects to identify the corresponding Java
type(s) a node is representing. Thus for each label that shall be used by the application a corresponding interface type must be created
which is annotated with @Label.</p>
</div>
<div class="listingblock">
<div class="title">Person.java</div>
<div class="content">
<pre class="highlight"><code class="java language-java">@Label
public interface Person {

String getName();
void String setName();

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The name of the label defaults to the name of the interface, in this case <em>Person</em>. A specific value can be enforced by adding a
value to the @Label annotation.</p>
</div>
<div class="paragraph">
<p>It can also be seen that a label usually enforces the presence of specific properties (or relations) on a node. The name of a
property - starting with a lower case letter - is used to store its value in the database, this can be overwritten using @Property. The
following example demonstrates explicit mappings for a label and a property:</p>
</div>
<div class="listingblock">
<div class="title">Person.java</div>
<div class="content">
<pre class="highlight"><code class="java language-java">@Label("MyPerson")
public interface Person {

  @Property("myName")
  String getName();
  void String setName();

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The mapping of relations will be covered later.</p>
</div>
</div>
<div class="sect3">
<h4 id="_inheritance_of_labels">Inheritance Of Labels</h4>
<div class="paragraph">
<p>A labeled type can extend from one or more labeled types.</p>
</div>
<div class="listingblock">
<div class="title">Actor.java</div>
<div class="content">
<pre class="highlight"><code class="java language-java">@Label
public interface Actor extends Person {
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this case a node created using the type Actor would be labeled with both <em>Person</em> and <em>Actor</em>. This way of combining types is referred to
as <em>static composition</em>.</p>
</div>
</div>
<div class="sect3">
<h4 id="TemplateTypes">Template Types</h4>
<div class="paragraph">
<p>There might be situations where the same properties or relations shall be re-used between various labels. In this case template types can be
used, these are just interfaces specifying properties and relations which shall be shared. The following example demonstrates how the
property name of the labeled type Person is extracted to a template type:</p>
</div>
<div class="listingblock">
<div class="title">Named.java</div>
<div class="content">
<pre class="highlight"><code class="java language-java">public interface Named {

  String getName();
  void setName(String name);

}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Person.java</div>
<div class="content">
<pre class="highlight"><code class="java language-java">@Label
public interface Person extends Named {
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_relations">Relations</h3>
<div class="sect3">
<h4 id="_unidirectional_relations">Unidirectional Relations</h4>
<div class="paragraph">
<p>A node can directly reference other nodes using relation properties. A property of a labeled type or template type is treated as such if it
references another labeled type or a collection thereof.</p>
</div>
<div class="listingblock">
<div class="title">Movie.java</div>
<div class="content">
<pre class="highlight"><code class="java language-java">@Label
public interface Movie {

  String getTitle();
  void setTitle();

}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Actor.java</div>
<div class="content">
<pre class="highlight"><code class="java language-java">@Label
public interface Actor extends Person {

  List&lt;Movie&gt; getActedIn();

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>If no further mapping information is provided an outgoing unidirectional relation using the fully capitalized name of
the property is assumed. The name may be specified using the @Relation annotation with the desired value. Furthermore
using one of the annotations @Outgoing or @Incoming the direction of the relation can be specified.</p>
</div>
<div class="listingblock">
<div class="title">Actor.java</div>
<div class="content">
<pre class="highlight"><code class="java language-java">@Label
public interface Actor extends Person {

  @Relation("ACTED_IN")
  @Outgoing
  List&lt;Movie&gt; getActedIn();

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note on multi-valued relations (i.e. collections):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Only the following types are supported: <em>java.util.Collection</em>, <em>java.util.List</em> or <em>java.util.Set</em>.</p>
</li>
<li>
<p>It is recommend to only specify the getter method of the property, as add or remove operations can be performed using the corresponding
collection methods</p>
</li>
<li>
<p>The provided <em>java.util.Set</em> implementation ensures uniqueness of the relation to the referenced node, if this is not necessary
<em>java.util.List</em> should be prefered for faster add-operations.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_bidirectional_qualified_relations">Bidirectional Qualified Relations</h4>
<div class="paragraph">
<p>Relations in many case shall be accessible from both directions. One possible way is to use two independent
unidirectional relations which map to the same relation type; one of them annotated with @Outgoing, the other with
@Incoming. There are some problems with this approach:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>it is not explicitly visible that the two relation properties are mapped to the same type</p>
</li>
<li>
<p>renaming of the type or of one the properties might break the mapping</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The recommended way is to use an annotation which qualifies the relation and holds the mapping information at a single
point:</p>
</div>
<div class="listingblock">
<div class="title">ActedIn.java</div>
<div class="content">
<pre class="highlight"><code class="java language-java">@Relation
@Retention(RUNTIME)
public @interface ActedIn {
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Actor.java</div>
<div class="content">
<pre class="highlight"><code class="java language-java">@Label
public interface Actor extends Person {

  @ActedIn
  @Outgoing
  List&lt;Movie&gt; getActedIn();

}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Movie.java</div>
<div class="content">
<pre class="highlight"><code class="java language-java">@Label
public interface Movie {

  String getTitle();
  void setTitle();

  @ActedIn
  @Incoming
  List&lt;Actors&gt; getActors();

}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_typed_relations_with_properties">Typed Relations With Properties</h4>
<div class="paragraph">
<p>If a relation between two nodes shall have properties a dedicated type must be declared. It must contain two properties
returning the types of referenced types which are annotated with @Incoming and @Outgoing:</p>
</div>
<div class="listingblock">
<div class="title">Directed.java</div>
<div class="content">
<pre class="highlight"><code class="java language-java">@Relation
public interface Directed {

  @Outgoing
  Director getDirector();

  @Incoming
  Movie getMovie();

  Calendar getFrom();
  void setFrom(Calendar from);

  Calendar getUntil();
  void setUntil(Calender until);

}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Director.java</div>
<div class="content">
<pre class="highlight"><code class="java language-java">@Label
public interface Director extends Person {

  List&lt;Directed&gt; getDirected();

}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Movie.java</div>
<div class="content">
<pre class="highlight"><code class="java language-java">@Label
public interface Movie {

  String getTitle();
  void setTitle();

  List&lt;Directed&gt; getDirected();

  ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note: If the typed relation references the same labeled type at both ends then the according properties of the latter
must also be annotated with @Outgoing and @Incoming:</p>
</div>
<div class="listingblock">
<div class="title">Directed.java</div>
<div class="content">
<pre class="highlight"><code class="java language-java">@Relation
public interface References {

  @Outgoing
  Movie getReferencing();

  @Incoming
  Movie getReferenced();

  int getMinute();
  void setMinute(int minute);

  int getSecond()
  void setSecond(int second);
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Movie.java</div>
<div class="content">
<pre class="highlight"><code class="java language-java">@Label
public interface Movie {

  @Outgoing
  List&lt;References&gt; getReferenced();

  @Incoming
  List&lt;References&gt; getReferencedBy();

  ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Typed relations may also be constructed using <a href="#TemplateTypes">Template Types</a>, i.e. types which define commonly used Properties.</p>
</div>
</div>
<div class="sect3">
<h4 id="_dynamic_properties">Dynamic Properties</h4>
<div class="paragraph">
<p>Labeled types or relation types may also define methods which execute a query on invocation and return the result:</p>
</div>
<div class="listingblock">
<div class="title">Movie.java</div>
<div class="content">
<pre class="highlight"><code class="java language-java">@Label
public interface Movie {

  @ResultOf
  @Cypher("match (m:Movie) where m.title={title} return m");
  Result&lt;Movie&gt; getMoviesByTitle(@Parameter("title") String title);

  @ResultOf
  @Cypher("match (a:Actor)-[:ACTED_IN]-&gt;(m:Movie) where id(m)={this} return count(a)");
  Long getActorCount();

  ...
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_transient_properties">Transient Properties</h4>
<div class="paragraph">
<p>Properties of entities or relations can be declared as transient, i.e. they may be used at runtime but will not be stored in the database:</p>
</div>
<div class="listingblock">
<div class="title">Person.java</div>
<div class="content">
<pre class="highlight"><code class="java language-java">@Label
public interface Person {

  @Transient
  String getName();
  void setName();

}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_user_defined_methods">User defined methods</h4>
<div class="paragraph">
<p>It can be useful to provide a custom implementation of a method which has direct access to the underlying datatypes. This can be achieved using <em>@ImplementedBy</em>.</p>
</div>
<div class="listingblock">
<div class="title">Person.java</div>
<div class="content">
<pre class="highlight"><code class="java language-java">@Label
public interface Person {

  @ImplementedBy(SetNameMethod.class)
  String setName(String firstName, String lastName);

}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">SetNameMethod.java</div>
<div class="content">
<pre class="highlight"><code class="java language-java">
public class SetNameMethod implements ProxyMethod&lt;Node&gt; {

 @Override
    public Object invoke(Node node, Object instance, Object[] args) {
      String firstName = (String) args[0];
      String lastName = (String) args[1];
      String fullName = firstName + " " + lastName;
      node.setProperty("name", fullName);
      return fullName;
    }

}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2014-06-23 23:29:09 MESZ
</div>
</div>
</body>
</html>